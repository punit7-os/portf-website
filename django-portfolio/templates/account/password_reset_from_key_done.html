{% extends "shop/base.html" %}
{% load i18n static %}

{% block title %}Password changed — My Shoppings{% endblock %}

{% block content %}
<main class="auth-card" role="main" aria-labelledby="done-title" style="max-width:720px;margin:40px auto;">
  <div style="display:flex;gap:18px;align-items:center;">
    <div style="width:64px;height:64px;border-radius:50%;background:#e6fbf3;display:flex;align-items:center;justify-content:center;flex-shrink:0;">
      <!-- simple check icon -->
      <svg width="32" height="32" viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M20 6L9 17l-5-5" stroke="#059669" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
    <div>
      <h1 id="done-title" style="margin:0;font-size:26px;color:#0b2545;">Password changed</h1>
      <p style="margin:6px 0 0;color:#6b7280;font-size:15px;">
        Your password has been updated successfully.
      </p>
    </div>
  </div>

  <div style="margin-top:20px;display:flex;gap:12px;align-items:center;flex-wrap:wrap;">
    <a href="{% url 'account_login' %}" class="btn" style="padding:12px 18px;border-radius:10px;text-decoration:none;display:inline-block;">
      Sign in
    </a>

    <a href="{% url 'shop:product_list' %}" class="btn-outline" style="padding:10px 14px;border-radius:10px;text-decoration:none;">
      Continue shopping
    </a>

    <div style="margin-left:auto;color:var(--muted);font-size:13px;">
      Redirecting to sign in in <strong id="countdown">6</strong>s…
    </div>
  </div>
</main>

<script>
  // Optional auto-redirect after 6 seconds (can be removed if undesired)
  (function(){
    const seconds = 6;
    let t = seconds;
    const el = document.getElementById('countdown');
    if(!el) return;
    const targetUrl = "{% url 'account_login' %}";
    const timer = setInterval(()=>{
      t -= 1;
      el.textContent = t;
      if(t <= 0){
        clearInterval(timer);
        window.location.href = targetUrl;
      }
    }, 1000);
  })();
</script>

{% endblock %}
